{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 300,
  "height": 180,
  "data": {
      "url": "https://raw.githubusercontent.com/jtru0014/3179/main/A2/data/Petrol%20Dataset%20June%2023%202022.csv"
  },
  "transform": [
      {
          "window": [{"op": "rank", "as": "rank"}],
          "sort": [{"field": "rank", "order": "descending"}]
      },
      {
          "filter": {"field": "rank", "lte": 10}
      }
  ],
  "params": [{
    "name": "selectc",
    "select": {"type": "point", "fields": ["Country"]},
    "bind": "legend"
  }],
  "mark": "rect",
  "encoding": {
      "x": {"field": "Country", "type": "nominal", "sort": {"op": "mean", "field": "World Share", "order": "descending"}},
      "y": {
          "field": "World Share",
          "type": "nominal",
          "sort": "-y" 
      },
      "color": {"field": "Country", "type": "nominal", "scale": {"scheme": "bluepurple"}},
      "tooltip": [
          {"field": "Country", "type": "nominal"},
          {"field": "World Share", "type": "nominal"}
      ]
  },
  "title": "Top 10 Countries with the Highest World Share"
}

  